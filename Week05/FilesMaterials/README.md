# Файлове - теория

**Класове за работа с файлове:**

```
- ofstream - за писане във файла

- ifstream - за четене от файла

- fstream - за четене и писане във файла
```

**Състояние, в което може да бъде отворен даден файл:**

```
- ios::out - за писане (презаписва върху старото съдържание на файла)

- ios::app - добая в края на файла, веднага след първоначалното му съдържание (не презаписва)

- ios::ate - задава първоначалната позиция да бъде накрая на файла (по подразбиране тя се намира в началото)

- ios::trunc - ако файла съществуа и е отворен за писане, изтрива цялото му съдържание и след това записва новото

- ios::in - за четене от файла

- ios::binary - отваря файла в двоичен вид

Изреждат се с побитовия оператор | (или).
```

**Алгоритъм за работа със системни ресурси (файлове):**

```
1) Поискване на ресурса
2) Проверка за успех
3) Използване на ресурса
4) Връщане
```

**Пример:**

```
std::ofstream outFile; // 1)       // съкратен вариант
outFile.open("fileName.txt");      //std::ofstream outFile("fileName.txt");

if(!outFile.is_open()) // 2)
{
   std::cout << "Unable to open file.\n"; // или хвърляне на изключение
}
else
{
   outFile << "This is some file.\n"; // 3)
   
   outFile.close(); // 4)
}

```

**Указател** - целочислена стойност, която определя местоположението си във файла като брой байтове от началото на файла.


**Всеки файл пази вътрешната позиция на указателя си:**

```
- ifstream - get position

- ofstream - put position

- fstream - get and put positions
```

**Тези позиции могат да се наблюдават и модифицират, като се използват следните функции:**

```
Връщат стойност от тип streampos, която представлява съответната get/put позиция във файла 

- tellg() - current get position

- tellp() - current put position
```

```
Позволяват да се променя местоположението на get/put позицията във файла

- seekg(position) или seekg(offset, direction)

- seekp(position) или seekp(offset, direction)
```

```
position - директна позиция на указателя
offset - колко позиции да бъде отместен указателя
direction - откъде да започне отброяването на позициите за отместване, има три възможни случая:
- ios::beg - от началото на файла
- ios::cur - от текущата позиция на указателя
- ioss::end - от края на файла
```



